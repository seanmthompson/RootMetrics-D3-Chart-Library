!function($){function checkInView(){var $elements=$();if($.each(inviewObjects,function(i,inviewObject){var selector=inviewObject.data.selector,$element=inviewObject.$element;$elements=$elements.add(selector?$element.find(selector):$element)}),$elements.length)for(var i=0;i<$elements.length;i++)if($elements[i])if($.contains(documentElement,$elements[i])){var $el=$($elements[i]),inView=$el.data("inview"),rect=$el[0].getBoundingClientRect(),height=$el.height(),width=$el.width();rect.top>=0-height+yMargin&&rect.left>=0-width+xMargin&&rect.bottom<=(w.innerHeight||documentElement.clientHeight)+height-yMargin&&rect.right<=(w.innerWidth||documentElement.clientWidth)+width-xMargin?inView||$el.data("inview",!0).trigger("inview",[!0]):inView&&$el.data("inview",!1).trigger("inview",[!1])}else delete $elements[i]}var timer,inviewObjects={},d=document,w=window,documentElement=d.documentElement,expando=$.expando,yMargin=$(window).height()/4,xMargin=0;$.event.special.inview={add:function(data){inviewObjects[data.guid+"-"+this[expando]]={data:data,$element:$(this)},timer||$.isEmptyObject(inviewObjects)||(timer=setInterval(checkInView,333))},remove:function(data){try{delete inviewObjects[data.guid+"-"+this[expando]]}catch(e){}$.isEmptyObject(inviewObjects)&&(clearInterval(timer),timer=null)}}}(jQuery);var rmBarChart=function(){"use strict";function chart(selection){cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom,selection.each(function(data){var div=d3.select(this),svg=div.selectAll("svg").data([data]),$div=$(div[0]);svg.enter().append("svg").call(chart.svgInit),$div.bind("inview",function(event,isInView){isInView&&(animationComplete||(animationComplete=!0,svg.call(chart.animate)))})})}var dataset,y,height=400,width=600,margin={top:40,right:40,bottom:40,left:40},min=0,max=100,animationComplete=!1,cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom;return chart.animate=function(svg){var barContent=svg.select(".bar-content"),bars=barContent.selectAll(".carrier-bar");bars.data(dataset).transition().duration(750).delay(function(d,i){return 100*i}).ease("elastic").attr("height",function(d){return cheight-y(d.score)}).attr("y",function(d){return y(d.score)})},chart.svgInit=function(svg){svg.attr("width",width).attr("height",height);var g=svg.append("g").attr("class","chart-content").attr("transform","translate("+[margin.left,margin.top]+")"),barWidth=cwidth/dataset.length,recWidth=barWidth/dataset.length;y=d3.scale.linear().domain([min,max]).range([cheight,0]);var yAxis=d3.svg.axis().scale(y).orient("left").ticks(10).tickPadding(10).tickSize(-cwidth);g.append("g").attr("class","y axis"),g.select(".y.axis").call(yAxis);var xAxis=g.append("g").attr("class","x axis").attr("transform","translate("+[barWidth,0]+")");xAxis.selectAll(".xaxis").data(dataset).enter().append("line").attr("class","xaxis").attr("transform",function(d,i){return"translate("+i*barWidth+", 0)"}).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",cheight);var bars=g.append("g").attr("class","bar-content");bars.selectAll("rect").data(dataset).enter().append("rect").attr("class",function(d){return d.name}).classed("carrier-bar",!0).attr("height",0).attr("y",function(d){return cheight}).attr("width",recWidth).attr("transform",function(d,i){return"translate("+(i*barWidth+barWidth/2-recWidth/2)+",0)"}),bars.selectAll(".error-bar-top").data(dataset).enter().append("rect").attr("class","error-bar-top").attr("height",1).attr("width",recWidth/2).attr("transform",function(d,i){var upperScale=y(d.upper),lowerScale=y(d.lower),difference=(upperScale-lowerScale)/2;return"translate("+(barWidth*i+barWidth/2-recWidth/4)+","+(y(d.score)+difference)+")"}),bars.selectAll(".error-bar-bottom").data(dataset).enter().append("rect").attr("class","error-bar-bottom").attr("height",1).attr("width",recWidth/2).attr("transform",function(d,i){var upperScale=y(d.upper),lowerScale=y(d.lower),difference=(upperScale-lowerScale)/2;return"translate("+(barWidth*i+barWidth/2-recWidth/4)+","+(y(d.score)-difference)+")"}),bars.selectAll(".error-bar").data(dataset).enter().append("rect").attr("class","error-bar").attr("width",1).attr("transform",function(d,i){var upperScale=y(d.upper),lowerScale=y(d.lower),difference=(upperScale-lowerScale)/2;return"translate("+(i*barWidth+barWidth/2)+","+(y(d.score)+difference)+")"}).attr("height",function(d){var upperScale=y(d.upper),lowerScale=y(d.lower);return lowerScale-upperScale}),bars.selectAll(".scoreText").data(dataset).enter().append("text").attr("class","scoreText").attr("text-anchor","middle").style("fill","#555").style("font-size","12px").attr("transform",function(d,i){return"translate("+(i*barWidth+barWidth/2)+","+(y(d.upper)-5)+")"}).text(function(d){return d.score.toFixed(1)}),bars.selectAll(".carrierText").data(dataset).enter().append("text").style("font-size","12px").attr("class","carrierText").style("fill","#555555").attr("y",cheight+20).style("text-anchor","middle").attr("transform",function(d,i){return"translate("+(i*barWidth+barWidth/2)+", 0)"}).text(function(d){return d.name})},chart.width=function(value){return arguments.length?(width=value,chart):width},chart.height=function(value){return arguments.length?(height=value,chart):height},chart.margin=function(value){return arguments.length?(margin=value,chart):margin},chart.min=function(value){return arguments.length?(min=value,chart):min},chart.max=function(value){return arguments.length?(max=value,chart):max},chart.dataset=function(value){return arguments.length?(dataset=value,chart):dataset},chart},rmDonutChart=function(){"use strict";function chart(selection){selection.each(function(data){var div=d3.select(this),svg=div.selectAll("svg").data([data]),$div=$(div[0]);svg.enter().append("svg").call(chart.svgInit),$div.bind("inview",function(event,isInView){isInView&&(animationComplete||(animationComplete=!0,svg.call(chart.animate)))})})}function arcTween(transition,newAngle){transition.attrTween("d",function(d){var interpolate=d3.interpolate(d.endAngle,newAngle);return function(t){return d.endAngle=interpolate(t),arc(d)}})}var dataset,foreground,percent,pi,arc,g,margin={top:40,right:40,bottom:40,left:40},height=200,width=200,strokeWidth=15,animationComplete=!1,cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom;return chart.animate=function(svg){setTimeout(function(){foreground.transition().duration(1e3).ease("elastic").call(arcTween,percent*pi)},200)},chart.svgInit=function(svg){svg.attr("width",width).attr("height",height).attr("class","donut-chart"),cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom;var radius=Math.min(cwidth,cheight)/2;pi=2*Math.PI,percent=dataset.values/dataset.total,arc=d3.svg.arc().outerRadius(radius).innerRadius(radius-strokeWidth).startAngle(0),g=svg.append("g").attr("transform","translate("+width/2+","+height/2+")");g.append("path").datum({endAngle:pi}).attr("class","donut-background").attr("d",arc);foreground=g.append("path").datum({endAngle:0}).attr("class",function(){return dataset.carrier}).attr("d",arc);svg.append("text").attr("text-anchor","middle").classed("tally",!0).attr("y",height/2).attr("x",width/2).attr("fill","#555").text(dataset.total),svg.append("text").attr("text-anchor","middle").attr("y",height/2+30).attr("x",width/2).attr("class",function(){return"carrier "+dataset.carrier}).text(dataset.carrier)},chart.width=function(value){return arguments.length?(width=value,chart):width},chart.height=function(value){return arguments.length?(height=value,chart):height},chart.strokeWidth=function(value){return arguments.length?(strokeWidth=value,chart):strokeWidth},chart.dataset=function(value){return arguments.length?(dataset=value,chart):dataset},chart},rmScatterPlot=function(){"use strict";function chart(selection){selection.each(function(data){var div=d3.select(this),svg=div.selectAll("svg").data([data]),$div=$(div[0]);svg.enter().append("svg").call(chart.svgInit),$div.bind("inview",function(event,isInView){isInView&&(animationComplete||(animationComplete=!0,svg.call(chart.animate)))})})}function showTooltip(d,allDataLookup){tooltip.style("visibility","visible").html(function(){var str="<p><b>"+d.name+"</b></p>";return str+="<p>Reliability: <b>"+d.x.toFixed(1)+"</b></p>",str+="<p>Speed: <b>"+d.y.toFixed(1)+"</b></p>"})}function hideTooltip(){tooltip.style("visibility","hidden")}var dataset,tooltip,margin={top:40,right:40,bottom:40,left:40},radius=7,width=550,min=0,max=100,height=550,xLabel="Speed RootScore",yLabel="Reliability RootScore",animationComplete=!1;width-margin.right-margin.left,height-margin.top-margin.bottom;return chart.animate=function(svg){svg.selectAll(".scatter-dot").transition().duration(750).delay(function(d,i){return 100*i}).ease("elastic").attr("r",radius)},chart.svgInit=function(svg){function zoomed(){g.select(".x.axis").call(xAxis),g.select(".y.axis").call(yAxis),g.selectAll("circle").attr("cx",function(d){return x(d.x)}).attr("cy",function(d){return y(d.y)})}svg.attr("width",width).attr("height",height);var cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom,g=svg.append("g").attr("class","chart-content").attr("transform","translate("+[margin.left,margin.top]+")"),x=d3.scale.linear().range([0,cwidth]),y=d3.scale.linear().range([cheight,0]),yAxis=d3.svg.axis().scale(y).orient("left").tickSize(-cwidth),xAxis=d3.svg.axis().scale(x).orient("bottom");x.domain([min,max]),y.domain([min,max]);var zoom=d3.behavior.zoom().scaleExtent([1,8]).x(x).y(y).on("zoom",zoomed);svg.call(zoom),svg.on("mousemove",function(){return tooltip.style("top",d3.event.pageY-10+"px").style("left",d3.event.pageX+10+"px")}),g.append("g").attr("class","x axis").call(xAxis).attr("transform","translate(0,"+cheight+")"),g.append("g").attr("class","y axis").call(yAxis),g.selectAll(".scatter-dot").data(dataset).enter().append("circle").attr("class","scatter-dot").attr("r",0).attr("cx",function(d){return x(d.x)}).attr("cy",function(d){return y(d.y)}).on("mouseover",function(d){return showTooltip(d)}).on("mouseout",hideTooltip),tooltip=d3.select("body").append("div").attr("class","tooltip").style("position","absolute").style("visibility","hidden")},chart.width=function(value){return arguments.length?(width=value,chart):width},chart.height=function(value){return arguments.length?(height=value,chart):height},chart.radius=function(value){return arguments.length?(radius=value,chart):radius},chart.margin=function(value){return arguments.length?(margin=value,chart):margin},chart.min=function(value){return arguments.length?(min=value,chart):min},chart.max=function(value){return arguments.length?(max=value,chart):max},chart.xLabel=function(value){return arguments.length?(xLabel=value,chart):xLabel},chart.yLabel=function(value){return arguments.length?(yLabel=value,chart):yLabel},chart.dataset=function(value){return arguments.length?(dataset=value,chart):dataset},chart},rmDoubleBarChart=function(){"use strict";function chart(selection){cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom,selection.each(function(data){var div=d3.select(this),svg=div.selectAll("svg").data([data]),$div=$(div[0]);svg.enter().append("svg").call(chart.svgInit),$div.bind("inview",function(event,isInView){isInView&&(animationComplete||(animationComplete=!0,svg.call(chart.animate)))})})}var dataset,max,y,height=400,width=600,margin={top:60,right:40,bottom:40,left:40},min=0,animationComplete=!1,cwidth=width-margin.right-margin.left,cheight=height-margin.top-margin.bottom;return chart.animate=function(svg){var barContent=svg.select(".bar-content"),bars=barContent.selectAll(".carrier-bar")[0],counter=0;$.each(dataset,function(index,v){$.each(v,function(i,val){d3.select(bars[counter]).transition().duration(750).delay(function(){return 100*counter}).ease("elastic").attr("y",function(d){return y(val.score)}).attr("height",function(){return cheight-y(val.score)}),counter++})})},chart.svgInit=function(svg){svg.attr("width",width).attr("height",height);var g=svg.append("g").attr("class","chart-content").attr("transform","translate("+[margin.left,margin.top]+")");max||(max=0,$.each(dataset,function(i,v){$.each(v,function(ind,val){val.upper>max&&(max=val.upper)})}));var barWidth=cwidth/dataset[0].length,recWidth=barWidth/dataset[0].length;y=d3.scale.linear().domain([min,max]).range([cheight,0]);var yAxis=d3.svg.axis().scale(y).orient("left").ticks(10).tickPadding(10).tickSize(-cwidth);g.append("g").attr("class","y axis"),g.select(".y.axis").call(yAxis);var xAxis=g.append("g").attr("class","x axis").attr("transform","translate("+[barWidth,0]+")");xAxis.selectAll(".xaxis").data(dataset[0]).enter().append("line").attr("class","xaxis").attr("transform",function(d,i){return"translate("+i*barWidth+", 0)"}).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",cheight);var bars=g.append("g").attr("class","bar-content");bars.selectAll(".carrierText").data(dataset[0]).enter().append("text").style("font-size","12px").attr("class","carrierText").style("fill","#555555").attr("y",cheight+20).style("text-anchor","middle").attr("transform",function(d,i){return"translate("+(i*barWidth+barWidth/2)+", 0)"}).text(function(d){return d.name}),$.each(dataset,function(index,v){var multiplier=recWidth*index;$.each(v,function(i,val){bars.append("rect").attr("class",function(d){return val.name}).classed("carrier-bar",!0).style("opacity",function(){return 1==index?.5:1}).attr("height",0).attr("y",function(d){return cheight}).attr("width",recWidth).attr("transform",function(d,iterator){return"translate("+(i*barWidth+barWidth/2-recWidth+multiplier)+",0)"}),bars.append("rect").attr("class","error-bar").style("fill","#555555").attr("width",1).attr("transform",function(d,iterator){var upperScale=y(val.upper),lowerScale=y(val.lower),difference=(upperScale-lowerScale)/2;return"translate("+(i*barWidth+barWidth/2-recWidth/2+multiplier)+","+(y(val.score)+difference)+")"}).attr("height",function(d){var upperScale=y(val.upper),lowerScale=y(val.lower);return lowerScale-upperScale}),bars.append("rect").attr("class","error-bar-top").attr("height",1).attr("width",recWidth/2).attr("transform",function(d,iterator){var upperScale=y(val.upper),lowerScale=y(val.lower),difference=(upperScale-lowerScale)/2;return"translate("+(i*barWidth+barWidth/2-recWidth+multiplier+recWidth/v.length)+","+(y(val.score)+difference)+")"}),bars.append("rect").attr("class","error-bar-bottom").attr("height",1).attr("width",recWidth/2).attr("transform",function(d,iterator){var upperScale=y(val.upper),lowerScale=y(val.lower),difference=(upperScale-lowerScale)/2;return"translate("+(i*barWidth+barWidth/2-recWidth+multiplier+recWidth/v.length)+","+(y(val.score)-difference)+")"}),bars.append("text").attr("class","scoreText").attr("text-anchor","middle").style("fill","#555").style("alignment-baseline","baseline").style("font-size","12px").text(function(d){return+val.score.toFixed(1)}).attr("transform",function(d,iterator){y(val.upper),y(val.lower);return"translate("+(i*barWidth+barWidth/2-recWidth/2+multiplier)+","+(y(val.upper)-7)+")"})})})},chart.width=function(value){return arguments.length?(width=value,chart):width},chart.height=function(value){return arguments.length?(height=value,chart):height},chart.margin=function(value){return arguments.length?(margin=value,chart):margin},chart.min=function(value){return arguments.length?(min=value,chart):min},chart.max=function(value){return arguments.length?(max=value,chart):max},chart.dataset=function(value){return arguments.length?(dataset=value,chart):dataset},chart};
//# sourceMappingURL=rm-chart-library.min.js.map